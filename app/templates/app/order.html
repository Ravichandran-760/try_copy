{%extends "app/base.html"%}


{%block title%}
RC Stores -order
{%endblock%}

{%block content%}
<!DOCTYPE html>
<html>
<head>
  <title>Place Order</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    input, textarea {
      width: 100%;
      margin: 8px 0 16px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    label {
      font-weight: bold;
    }
    button {
      padding: 10px 15px;
      background: #28a745;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background: #218838;
    }
  </style>
</head>
<body>
  <h2>Order Summary</h2>

  <form onsubmit="submitOrder(event)">
    <label>Product Name</label>
    <input type="text" id="productName" readonly>

    <label>Quantity</label>
    <input type="number" id="qty" readonly>

    <label>Total Price (â‚¹)</label>
    <input type="text" id="total" readonly>

    <hr>

    <label>Your Name</label>
    <input type="text" name="customerName" required>

    <label>Mobile Number</label>
    <input type="tel" name="mobile" pattern="[0-9]{10}" required>

    <label>Address</label>
    <textarea name="address" rows="4" required></textarea>

    <label>Pincode</label>
    <input type="text" name="pincode" pattern="[0-9]{6}" required>

    <button type="submit">Place Order</button>
  </form>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const name = urlParams.get("name");
    const qty = urlParams.get("qty");
    const total = urlParams.get("total");

    document.getElementById("productName").value = name || "";
    document.getElementById("qty").value = qty || "1";
    document.getElementById("total").value = total || "";

    function submitOrder(e) {
      e.preventDefault();
      alert("Order placed successfully!\nYou will receive a confirmation soon.");
      // Here, you could send data to backend via fetch() or form POST.
      window.location.href = "/";  // Redirect to homepage or order confirmation page
    }
  </script>
</body>
</html>

{%endblock%}